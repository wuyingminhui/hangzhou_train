function menuHandler(){var a=jQuery("#mainmenu").parents().length;jQuery("#mainmenu li >a").each(function(){var b=jQuery(this);var c=b.parents().length-a-3;var d=b.html().split("<")[0];d=d.toLowerCase();d=d.substr(0,1).toUpperCase()+d.substr(1,d.length);if(c==0)var e=jQuery("<div>"+d+"</div>").text();else if(c==2)var e=jQuery("<div>   "+d+"</div>").text();else if(c==4)var e=jQuery("<div>      "+d+"</div>").text();jQuery("#responsive-menu select").append(new Option(e,b.attr("href")))})}function footerHandler(){var a=jQuery("body").find(".main:first");var b=jQuery("body").find(".footerwrap");var c=jQuery("body").find(".subfooterwrap");setInterval(function(){var d=a.outerHeight();var e=b.outerHeight()+c.outerHeight();var f=jQuery(window).height();var g=f-(d+e);if(g>0){b.stop();b.animate({marginTop:g+"px"},{duration:300,queue:false})}if(g<0){b.stop();b.animate({marginTop:"0px"},{duration:300,queue:false})}},100);setInterval(function(){jQuery(".tiledbackground").height(jQuery(document).height());jQuery(".whitebackground").height(jQuery(document).height())},500)}function initAccordion(){jQuery(".accordion-item").each(function(a){var b=jQuery(this);b.find(".togglecontent").slideUp(0);b.find(".toggleswitch").click(function(){var a=b.find(".togglecontent").css("display");b.closest("ul").find(".toggleswitch").each(function(){var a=jQuery(this).closest("li");a.find(".togglecontent").slideUp(300);jQuery(this).parent().removeClass("selected")});if(a=="block"){b.find(".togglecontent").slideUp(300);b.removeClass("selected")}else{b.find(".togglecontent").slideDown(300);b.addClass("selected")}})})}function listfades(a){jQuery(a).find(">li").each(function(){var b=jQuery(this);b.hover(function(){var b=jQuery(this);b.addClass("listover");b.find("img:first").addClass("listovereffect");jQuery(a).find(">li").each(function(a){var b=jQuery(this);b.stop();if(!b.hasClass("listover"))b.find("img:first").animate({opacity:.3},{duration:300,queue:false});else b.find("img:first").animate({opacity:1},{duration:300,queue:false})})},function(){var a=jQuery(this);a.removeClass("listover");a.find("img:first").removeClass("listovereffect");a.siblings().each(function(){var a=jQuery(this);a.stop();a.find("img:first").animate({opacity:1},{duration:300,queue:false})});a.stop();a.find("img:first").animate({opacity:1},{duration:300,queue:false})})})}function addPrettyPhoto(){jQuery("a[data-rel^='prettyPhoto']").prettyPhoto({theme:"pp_default",overlay_gallery:false,show_title:false,social_tools:false,hideflash:true})}function tabsInit(){var a=jQuery("ul.tabs");a.each(function(a){var b=jQuery(this).find("> li > a");b.click(function(a){var c=jQuery(this).attr("href");if(c.charAt(0)=="#"){a.preventDefault();b.removeClass("active");jQuery(this).addClass("active");jQuery(c).show().addClass("active").siblings().hide().removeClass("active")}})})}function hoverEffects(){function a(a){var b=jQuery(a).parent().find("div");jQuery(a).hover(function(){b.css("opacity","0");b.css("display","block");b.animate({opacity:1},{duration:200,queue:false})},function(){b.animate({opacity:0},{duration:200,queue:false})})}jQuery("a.button, button").hover(function(){jQuery(this).animate({backgroundColor:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine");jQuery(this).css("text-shadow","none");jQuery(this).css("border-bottom","1px solid #777")},function(){jQuery(this).animate({backgroundColor:"#777"},{duration:200,queue:false},"easeOutSine");jQuery(this).css("text-shadow","0px 1px 0px #444");jQuery(this).css("border-bottom","1px solid #444")});jQuery(".footer a.borderhover img").hover(function(){jQuery(this).animate({borderColor:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({borderColor:"#3e3e3e"},{duration:200,queue:false},"easeOutSine")});jQuery("a.borderhover img").not(".footer a.borderhover img").hover(function(){jQuery(this).animate({borderColor:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({borderColor:"#ddd"},{duration:200,queue:false},"easeOutSine")});a("a.social_facebook");a("a.social_twitter");a("a.social_rss");a("a.social_vimeo");a("a.social_googleplus");a("a.social_linkedin");a("a.social_flickr");a("a.social_youtube");a("a.social_pinterest");jQuery("a").not(".author a, a.button, .tabs a, .topline a, a.portfolio_selector, .footer a, .subfooter a, .flex-caption a, .mainmenu a, a.titlelink, a.link, a.linkbg, .subline a, h6 a, h5 a, h4 a, h3 a, h2 a, h1 a, .blogpages li a").hover(function(){jQuery(this).animate({color:"#000"},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({color:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")});jQuery(".topline a").hover(function(){jQuery(this).animate({color:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({color:"#333"},{duration:200,queue:false},"easeOutSine")});jQuery(".blogpages li a").not(".blogpages li a.selected").hover(function(){jQuery(this).animate({backgroundColor:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({backgroundColor:"#777"},{duration:200,queue:false},"easeOutSine")});jQuery("h6 a, h5 a, h4 a, h3 a, h2 a, h1 a").not(".blogtitle h4 a").hover(function(){jQuery(this).animate({color:"#000"},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({color:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")});jQuery(".blogtitle h4 a, .author a").hover(function(){jQuery(this).animate({color:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({color:"#000"},{duration:200,queue:false},"easeOutSine")});jQuery(".footer a").hover(function(){jQuery(this).animate({color:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({color:"#ccc"},{duration:200,queue:false},"easeOutSine")});jQuery(".subfooter a").hover(function(){jQuery(this).animate({color:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({color:"#777"},{duration:200,queue:false},"easeOutSine")});jQuery(".flex-caption a").hover(function(){jQuery(this).animate({color:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({color:"#fff"},{duration:200,queue:false},"easeOutSine")});jQuery("a.link").hover(function(){jQuery(this).animate({color:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({color:"#777"},{duration:200,queue:false},"easeOutSine")});jQuery("a.linkbg").hover(function(){jQuery(this).animate({color:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine");jQuery(this).css("backgroundColor","transparent")},function(){jQuery(this).animate({color:"#fff"},{duration:200,queue:false},"easeOutSine");jQuery(this).css("backgroundColor",$apex_highlightcolor)});jQuery(".subline a").hover(function(){jQuery(this).animate({color:"#fff"},{duration:200,queue:false},"easeOutSine");jQuery(this).css("backgroundColor",$apex_highlightcolor)},function(){jQuery(this).animate({color:"#777"},{duration:200,queue:false},"easeOutSine");jQuery(this).css("backgroundColor","transparent")});jQuery("a.titlelink, .postinfo a").hover(function(){jQuery(this).animate({color:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({color:"#999"},{duration:200,queue:false},"easeOutSine")});jQuery(".ddsmoothmenu ul li ul li a").hover(function(){jQuery(this).animate({backgroundColor:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({backgroundColor:"#222222"},{duration:200,queue:false},"easeOutSine")});jQuery(".hovering").hover(function(){var a=jQuery(this);var b=jQuery(this).parent().find(".topline");var c=jQuery(this).parent();if(jQuery.browser.msie&&jQuery.browser.version==8){jQuery("body").data("somethinghovered",1)}if(!a.find("img:first").hasClass("underanimation")){if(jQuery.browser.msie&&jQuery.browser.version<9&&a.find(".overlay").length>0){}else{var d=a.find("img:first");var e=d.width();var f=d.height();var g=parseInt(d.css("border-top-width"),0);var h=parseInt(d.css("border-left-width"),0);if(g>0&&g<1e3){}else{g=0}if(h>0&&h<1e3){}else{h=0}var i=d.position().top+g;var j=d.position().left+h;a.append('<div class="overlay" style="overflow:hidden;position:absolute;cursor:pointer;"></div>');a.find(".overlay").css({top:i+"px",left:j+"px",width:e+"px",height:f+"px"});a.find(".overlay").css({opacity:0});a.find(".overlay").animate({opacity:.25},{duration:350,queue:false},"easeOutSine");b.animate({borderColor:$apex_highlightcolor},{duration:350,queue:false},"easeOutSine");c.animate({borderColor:$apex_highlightcolor},{duration:350,queue:false},"easeOutSine");if(a.data("text")!=undefined){a.append('<div class="overlaytext" style="position:absolute;top:'+i+"px;left:"+(j+40)+'px;opacity:0.0">'+a.data("text")+"</div>");var k=a.find(".overlaytext");k.css({top:i+f/2-parseInt(k.outerHeight(),0)/2+"px"});k.css({left:j+e/2-parseInt(k.outerWidth(),0)/2+"px"});k.animate({opacity:"1.0"},{duration:350,queue:false},"easeOutExpo")}}}},function(){var a=jQuery(this);var b=jQuery(this).parent().find(".topline");var c=jQuery(this).parent();a.find(".overlay").stop();a.find(".overlay").animate({opacity:0},{duration:350,queue:false},"easeOutSine");a.find(".overlaytext").animate({opacity:0},{duration:350,queue:false},"easeOutSine");b.animate({borderColor:"#ddd"},{duration:350,queue:false},"easeOutSine");c.animate({borderColor:"#ddd"},{duration:350,queue:false},"easeOutSine");a.data("removetimer",setTimeout(function(){a.find(".overlay").remove();a.find(".overlaytext").remove()},350))})}function relative_time(a){var b=a.split(" ");a=b[1]+" "+b[2]+", "+b[5]+" "+b[3];var c=Date.parse(a);var d=arguments.length>1?arguments[1]:new Date;var e=parseInt((d.getTime()-c)/1e3);e=e+d.getTimezoneOffset()*60;var f="";if(e<60){f="a minute ago"}else if(e<120){f="couple of minutes ago"}else if(e<45*60){f=parseInt(e/60).toString()+" minutes ago"}else if(e<90*60){f="an hour ago"}else if(e<24*60*60){f=""+parseInt(e/3600).toString()+" hours ago"}else if(e<48*60*60){f="1 day ago"}else{f=parseInt(e/86400).toString()+" days ago"}return f}function addForm(a){function d(){var a=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;var c=/.{4}/;var d=true;b.find(".requiredfield").each(function(){var b=jQuery(this).attr("name");var e=jQuery(this).val();if(e=="Name *"||e=="Email *"||e=="Message *"){e=""}if(b=="email"){if(!a.test(e)){jQuery(this).addClass("formerror");d=false}else{jQuery(this).removeClass("formerror")}}else{if(!c.test(e)){jQuery(this).addClass("formerror");d=false}else{jQuery(this).removeClass("formerror")}}});if(!d){b.find(".errormessage").fadeIn()}return d}function e(){b.find("input").each(function(){jQuery(this).val("")});b.find("textarea").val("");c=false}function f(){b.find(".successmessage").hide();var a="";if(d()){if(!c){c=true;b.find(".errormessage").hide();b.find(".sendingmessage").show();jQuery.post(a,b.serialize(),function(){b.find(".sendingmessage").hide();b.find(".successmessage").fadeIn();e()})}}return false}var b=jQuery(a);var c=false;b.find("button[name=send]").click(f)}jQuery.noConflict();$apex_highlightcolor="#34b489";jQuery(document).ready(function(){ddsmoothmenu.init({mainmenuid:"mainmenu",orientation:"h",classname:"ddsmoothmenu",contentsource:"markup"});menuHandler();jQuery("#responsive-menu select").change(function(){window.location=jQuery(this).find("option:selected").val()});jQuery(".footerclose").click(function(){jQuery(".footer").animate({height:"hide"},{duration:500,queue:false},"easeInOutExpo");jQuery(".footerclose").animate({opacity:"hide"},{duration:300,queue:false},"easeOutSine");jQuery(".footeropen").animate({opacity:"show"},{duration:300,queue:false},"easeOutSine")});jQuery(".footeropen").click(function(){jQuery(".footer").animate({height:"show"},{duration:500,queue:false},"easeInOutExpo");jQuery(".footerclose").animate({opacity:"show"},{duration:300,queue:false},"easeOutSine");jQuery(".footeropen").animate({opacity:"hide"},{duration:300,queue:false},"easeOutSine");jQuery("html, body").animate({scrollTop:jQuery(document).height()},{duration:300,queue:false},"easeOutSine");setTimeout(function(){jQuery("html, body").animate({scrollTop:jQuery(document).height()},{duration:300,queue:false},"easeOutSine")},290)});jQuery(".flexslider").not(".postslider").flexslider({touchSwipe:true,controlNav:false,directionNav:true,slideshow:true,slideshowSpeed:7e3,animationDuration:600,randomize:false,pauseOnAction:false,pauseOnHover:true});jQuery(".postslider").flexslider({touchSwipe:true,controlNav:false,directionNav:true,slideshow:false,slideshowSpeed:7e3,animationDuration:600,randomize:false,pauseOnAction:false,pauseOnHover:true});jQuery(".flex-direction-nav li a.next, .flex-direction-nav li a.prev").css({opacity:.2});jQuery(".flex-direction-nav li a.next, .flex-direction-nav li a.prev").hover(function(){jQuery(this).animate({opacity:1},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({opacity:.2},{duration:300,queue:false},"easeOutSine")});jQuery("ul.flex-direction-nav").css("opacity","0");jQuery("ul.flex-direction-nav").css("display","block");jQuery(".flexslider").hover(function(){jQuery("ul.flex-direction-nav").animate({opacity:1},{duration:200,queue:false})},function(){jQuery("ul.flex-direction-nav").animate({opacity:0},{duration:200,queue:false})});listfades(".clients");initAccordion();hoverEffects();tabsInit();jQuery(".scalevid").fitVids();jQuery(".portfolio4column").tpportfolio({speed:500,row:4,nonSelectedAlpha:0,portfolioContainer:".portfolio"});if(jQuery("#contactform").length!=0){addForm("#contactform")}if(jQuery("#quickcontact").length!=0){addForm("#quickcontact")}if(jQuery("#replyform").length!=0){addForm("#replyform")}footerHandler();addPrettyPhoto()});jQuery(window).load(function(){jQuery("#background").fullBg();if(jQuery(".widget_tweets").length!=0){jQuery.ajaxSetup({cache:true});jQuery.getJSON("http://twitter.com/status/user_timeline/envato.json?count=3&amp;callback=?",function(a){jQuery.each(a,function(a,b){var c=b.text.linkify();jQuery(".widget_tweets ul").append("<li>"+c+"<div class='subline'>"+relative_time(b.created_at)+"</div></li>")});jQuery(".footer .widget_tweets a").hover(function(){jQuery(this).animate({color:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({color:"#ccc"},{duration:300,queue:false},"easeOutSine")});jQuery(".sidebar .widget_tweets a").hover(function(){jQuery(this).animate({color:$apex_highlightcolor},{duration:200,queue:false},"easeOutSine")},function(){jQuery(this).animate({color:"#333"},{duration:300,queue:false},"easeOutSine")})})}});String.prototype.linkify=function(){return this.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+/,function(a){return a.link(a)})};(function(a){a.fn.fullBg=function(){function c(){var c=b.width();var d=b.height();var e=a(window).width();var f=a(window).height();var g=e/c;var h=f/d;var i=h*c;var j=g*d;if(j>f){b.css({width:e+"px",height:j+"px"})}else{b.css({width:i+"px",height:f+"px"})}}var b=a(this);c();b.fadeIn("fast");a(window).resize(function(){c()})}})(jQuery);(function(a,b){function c(b,c){var d=a("body");d.find(".rowwrap").each(function(b){var c=a(this).find(".rowed:first");c.unwrap()});d.find(".rowed").each(function(b){var c=a(this);c.removeClass(c.data("row"));c.removeClass("rowed")});var e=0;d.find(".all-group").each(function(b){var c=a(this);c.addClass("row"+e);c.addClass("rowed");c.data("row","row"+e);if(c.hasClass("omega")){e++}});for(i=0;i<e;i++){d.find(".row"+i).wrapAll('<div class="rowwrap" style="position:relative;height:0px;width:100%;"></div>')}d.find(".killerclear").remove();var f=d.find(".rowwrap").length;d.find(".rowwrap").each(function(b){var c=a(this);var d=0;c.find(".rowed").each(function(b){if(a(this).css("display")!="none"){if(d<a(this).height())d=a(this).outerHeight()}});c.css({height:d+"px"});c.after('<div style="clear:both" class="killerclear"></div>')});var g=d.find(".portfoliooutterholder");var h=d.find(b.portfolioContainer);g.stop();g.animate({height:h.outerHeight()+"px"},{duration:400,queue:false})}a.fn.extend({tpportfolio:function(b){var d={speed:500,row:4,nonSelectedAlpha:0,portfolioContainer:".portfolio"};b=a.extend({},a.fn.tpportfolio.defaults,b);return this.each(function(){var d=b;var e=a(this);var f=0;var g=e.find(".all-group").length;var h=g-Math.floor(g/d.row)*d.row;if(d.nonSelectedAlpha===0){e.find(d.portfolioContainer).wrap('<div class="portfoliooutterholderq" style="position:relative;clear:both;overflow:hidden;w"></div>')}if(h==0)h=d.row;e.find(".all-group").each(function(b){f++;var c=a(this);if(f==1)c.addClass("alpha");if(f===d.row){c.addClass("omega");f=0}if(b>=g-h)c.addClass("nopadding")});e.find(".portfolio_selector").each(function(){var b=a(this);if(b.data("group")==="all-group"){b.addClass("selected_selector")}else{b.animate({opacity:.6},{duration:200,queue:false})}b.hover(function(){var b=a(this);b.stop();b.animate({opacity:1},{duration:d.speed,queue:false})},function(){var b=a(this);if(!b.hasClass("selected_selector")){b.stop();b.animate({opacity:.6},{duration:200,queue:false})}});b.click(function(){if(d.nonSelectedAlpha===0){var f=e.find(".portfoliooutterholder");var g=e.find(d.portfolioContainer);f.css({width:"100%",height:g.height()+"px"});if(!f.hasClass("row"))f.addClass("row")}e.find(".portfolio_selector").each(function(){var b=a(this);b.removeClass("selected_selector")});b.addClass("selected_selector");e.find(".portfolio_selector").each(function(){var b=a(this);b.stop();if(b.hasClass("selected_selector")){b.animate({opacity:1},{duration:200,queue:false})}else{b.animate({opacity:.6},{duration:200,queue:false})}});if(d.nonSelectedAlpha===0){var h=0;var i=0;a("body").find(".all-group").each(function(b){var c=a(this);c.stop();var e=c.find("img:first");var f=e.position().left;var g=e.position().top;var i=e.width();var j=e.height();c.css({position:"relative"});if(c.find(".deletemesoon").length==0)e.wrap('<div class="deletemesoon" style="position:relative;overflow:hidden;width:100%;height:'+j+'px"></div>');e.css({position:"absolute"});setTimeout(function(){e.animate({top:j+"px"},{duration:d.speed,queue:false});c.animate({opacity:0},{duration:d.speed,queue:false})},h*125)});setTimeout(function(){a("body").find(".all-group").each(function(c){var d=a(this);if(!d.hasClass(b.data("group"))){d.css({display:"none"})}else{d.css({display:"block",opacity:0})}d.removeClass("alpha");d.removeClass("omega");d.remove("nopadding")})},d.speed+h*125);setTimeout(function(){var g=0;var i=a("body").find("."+b.data("group")).length;var j=i-Math.floor(i/d.row)*d.row;if(j==0)j=d.row;a("body").find("."+b.data("group")).each(function(b){g++;var c=a(this);c.css({display:"block",opacity:0});var f=c.find("img:first");var k=c.find(".deletemesoon");k.css({width:"100%"});f.css({top:"0px"});k.css({height:f.height()+"px"});f.stop();f.css({position:"absolute",top:f.height()+"px"});f.animate({top:"0px"},{duration:d.speed,queue:false});var l=e.find(".portfoliooutterholder");setTimeout(function(){f.prependTo(c.find("a:first"));f.css({position:"relative",top:"0px"});c.find(".deletemesoon").remove()},d.speed+10+h*125);c.stop();c.animate({opacity:1},{duration:d.speed,queue:false});if(g==1)c.addClass("alpha");if(g===d.row){c.addClass("omega");g=0}if(b>=i-j){c.addClass("nopadding")}else{c.removeClass("nopadding")}});c(d);var k=e.find(d.portfolioContainer);f.stop();f.animate({height:k.outerHeight()+"px"},{duration:400,queue:false})},d.speed+20+h*125)}else{a("body").find(".nonclickbar").remove();a("body").find(".all-group").each(function(){var c=a(this);c.stop();if(c.hasClass(b.data("group"))){c.animate({opacity:1},{duration:d.speed,queue:false})}else{var e=c.outerWidth();var f=c.outerHeight();var g=c.position().top;var h=c.position().left;c.parent().append('<div class="nonclickbar" style="position:absolute;top:'+g+"px;left:"+h+"px;width:"+e+"px;height:"+f+'px;background:#000"></div>');c.parent().find(".nonclickbar").css({opacity:0}).addClass(c.data("row"));c.animate({opacity:d.nonSelectedAlpha/100},{duration:d.speed,queue:false})}});setTimeout(function(){c(d)},100)}return false})});var i=0;e.find(".all-group").waitForImages(function(){c(d);if(d.nonSelectedAlpha===0){var a=e.find(".portfoliooutterholder");var b=e.find(d.portfolioContainer);a.css({width:"100%",height:b.height()+"px"});if(!a.hasClass("row"))a.addClass("row")}},function(){i=i+1;c(d)});c(d,true);a(window).resize(function(){clearTimeout(d.resized);d.resized=setTimeout(function(){c(d,true)},100)})})}});})(jQuery);(function(a){a.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage"]};a.expr[":"].uncached=function(b){var c=document.createElement("img");c.src=b.src;return a(b).is('img[src!=""]')&&!c.complete};a.fn.waitForImages=function(b,c,d){if(a.isPlainObject(arguments[0])){c=b.each;d=b.waitForAll;b=b.finished}b=b||a.noop;c=c||a.noop;d=!!d;if(!a.isFunction(b)||!a.isFunction(c)){throw new TypeError("An invalid callback was supplied.")}return this.each(function(){var e=a(this),f=[];if(d){var g=a.waitForImages.hasImageProperties||[],h=/url\((['"]?)(.*?)\1\)/g;e.find("*").each(function(){var b=a(this);if(b.is("img:uncached")){f.push({src:b.attr("src"),element:b[0]})}a.each(g,function(a,c){var d=b.css(c);if(!d){return true}var e;while(e=h.exec(d)){f.push({src:e[2],element:b[0]})}})})}else{e.find("img:uncached").each(function(){f.push({src:this.src,element:this})})}var i=f.length,j=0;if(i==0){b.call(e[0])}a.each(f,function(d,f){var g=new Image;a(g).bind("load error",function(a){j++;c.call(f.element,j,i,a.type=="load");if(j==i){b.call(e[0]);return false}});g.src=f.src})})}})(jQuery);(function(a){function c(b){var c={center:"50%",left:"0%",right:"100%",top:"0%",bottom:"100%"};var d=b.split(/ /);var e=function(a){var b=(c[d[a]]||d[a]||"50%").match(/^([+-]=)?([+-]?\d+(\.\d*)?)(.*)$/);d[a]=[b[1],parseFloat(b[2]),b[4]||"px"]};if(d.length==1&&a.inArray(d[0],["top","bottom"])>-1){d[1]=d[0];d[0]="50%"}e(0);e(1);return d}var b="bgPos";a.fx.step["backgroundPosition"]=a.fx.step["background-position"]=function(d){if(!d.set){var e=a(d.elem);var f=e.data(b);e.css("backgroundPosition",f);d.start=c(f);d.end=c(a.fn.jquery>="1.6"?d.end:d.options.curAnim["backgroundPosition"]||d.options.curAnim["background-position"]);for(var h=0;h<d.end.length;h++){if(d.end[h][0]){d.end[h][1]=d.start[h][1]+(d.end[h][0]=="-="?-1:+1)*d.end[h][1]}}d.set=true}a(d.elem).css("background-position",d.pos*(d.end[0][1]-d.start[0][1])+d.start[0][1]+d.end[0][2]+" "+(d.pos*(d.end[1][1]-d.start[1][1])+d.start[1][1]+d.end[1][2]))};a.fn.animate=function(a){return function(c,d,f,h){if(c["backgroundPosition"]||c["background-position"]){this.data(b,this.css("backgroundPosition")||"center")}return a.apply(this,[c,d,f,h])}}(a.fn.animate)})(jQuery)